<!DOCTYPE html>
<html lang="vi">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>@ViewData["Title"] - Quản Lý Phòng GYM</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="~/css/Layout/_LayoutAdmin.css" asp-append-version="true" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
	<!-- Sidebar -->
	<div class="sidebar">
		<div class="sidebar-brand">
			<i class="bi bi-dumbbell-fill fs-4 me-2"></i>
			<h5 class="m-0">GYM Manager</h5>
		</div>


		<div class="sidebar-heading mb-2">
			Chức Năng
		</div>

		<ul class="nav flex-column">
			<li class="nav-item">
				<a class="nav-link" asp-controller="Dashboard" asp-action="Index">
					<i class="bi bi-house-door"></i>
					<span>Dashboard</span>
				</a>
			</li>

			<li class="nav-item">
				<a class="nav-link" asp-controller="ThanhVien" asp-action="Index">
					<i class="bi bi-people"></i>
					<span>Quản Lý Thành Viên</span>
				</a>
			</li>

			<li class="nav-item">
				<a class="nav-link" asp-controller="HuanLuyenVien" asp-action="Index">
					<i class="bi bi-person-badge"></i>
					<span>Huấn Luyện Viên</span>
				</a>
			</li>

			<li class="nav-item">
				<a class="nav-link" asp-controller="ThietBi" asp-action="Index">
					<i class="bi bi-gear"></i>
					<span>Thiết Bị</span>
				</a>
			</li>

			<li class="nav-item">
				<a class="nav-link" asp-controller="GoiTap" asp-action="Index">
					<i class="bi bi-card-list"></i>
					<span>Gói Tập</span>
				</a>
			</li>

			<li class="nav-item">
				<a class="nav-link" asp-controller="LichTap" asp-action="Index">
					<i class="bi bi-calendar-check"></i>
					<span>Lịch Tập</span>
				</a>
			</li>
		</ul>

		<div class="sidebar-divider"></div>

		<div class="sidebar-heading">
			Hệ thống
		</div>

		<ul class="nav flex-column">
			<li class="nav-item">
				<a class="nav-link" href="#">
					<i class="bi bi-gear-fill"></i>
					<span>Cài Đặt</span>
				</a>
			</li>

			<li class="nav-item">
				<a class="nav-link" href="#">
					<i class="bi bi-box-arrow-right"></i>
					<span>Đăng Xuất</span>
				</a>
			</li>
		</ul>
	</div>

	<!-- Main Content -->
	<div class="main-content">
		<!-- Header -->
		<header class="header">
			
			<div class="search-bar">
				<i class="bi bi-search"></i>
				<input type="text" class="form-control" placeholder="Tìm kiếm...">
			</div>

			<div class="ms-auto d-flex align-items-center">
				<div class="notification-icon">
					<i class="bi bi-bell"></i>
					<div class="notification-badge">3</div>
				</div>

				<div class="notification-icon">
					<i class="bi bi-envelope"></i>
					<div class="notification-badge">7</div>
				</div>

				<div class="header-divider"></div>

				<div class="dropdown">
					<div class="user-profile" data-bs-toggle="dropdown">
						<img src="https://ui-avatars.com/api/?name=Admin&background=4e73df&color=fff" alt="Admin">
						<span>Admin</span>
						<i class="bi bi-chevron-down ms-2 small"></i>
					</div>
					<ul class="dropdown-menu dropdown-menu-end lh-lg">
						<li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>Hồ Sơ</a></li>
						<li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>Cài Đặt</a></li>
						<li><a class="dropdown-item" href="#"><i class="bi bi-activity me-2"></i>Nhật Ký</a></li>
						<li><hr class="dropdown-divider"></li>
						<li><a class="dropdown-item" href="#"><i class="bi bi-box-arrow-right me-2"></i>Đăng Xuất</a></li>
					</ul>
				</div>
			</div>
		</header>

		<!-- Page Content -->
		<div class="content-area">
				
			<div class="container-fluid p-0">
				@RenderBody()
			</div>
		</div>
	</div>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	@if (TempData["SuccessMessage"] != null)
	{
		<div class="toast-container position-fixed top-0 end-0 p-3">
			<div id="successToast" class="toast border-0 shadow-lg" role="alert" aria-live="assertive" aria-atomic="true">
				<div class="toast-header bg-success text-white">
					<i class="bi bi-check-circle-fill me-2"></i>
					<strong class="me-auto">Thông báo</strong>
					<small>Vừa xong</small>
					<button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
				</div>
				<div class="toast-body bg-light">
					<div class="d-flex align-items-center">
						<div class="text-success me-2">
							<i class="bi bi-check-circle-fill fs-4"></i>
						</div>
						<div>@TempData["SuccessMessage"]</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			document.addEventListener("DOMContentLoaded", function () {
				var toastEl = document.getElementById("successToast");
				var toast = new bootstrap.Toast(toastEl, { 
					delay: 3000,
					animation: true,
					autohide: true
				});
				toast.show();
			});
		</script>
	}

	@if (TempData["ErrorMessage"] != null)
	{
		<div class="toast-container position-fixed top-0 end-0 p-3">
			<div id="errorToast" class="toast border-0 shadow-lg" role="alert" aria-live="assertive" aria-atomic="true">
				<div class="toast-header bg-danger text-white">
					<i class="bi bi-exclamation-triangle-fill me-2"></i>
					<strong class="me-auto">Lỗi</strong>
					<small>Vừa xong</small>
					<button type="button" class="btn-close btn-close-white" data-bs-dismiss="toast" aria-label="Close"></button>
				</div>
				<div class="toast-body bg-light">
					<div class="d-flex align-items-center">
						<div class="text-danger me-2">
							<i class="bi bi-exclamation-triangle-fill fs-4"></i>
						</div>
						<div>@TempData["ErrorMessage"]</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			document.addEventListener("DOMContentLoaded", function () {
				var toastEl = document.getElementById("errorToast");
				var toast = new bootstrap.Toast(toastEl, { 
					delay: 4000,
					animation: true,
					autohide: true
				});
				toast.show();
			});
		</script>
	}

	<script>
	

		// Highlight active menu item
		document.addEventListener('DOMContentLoaded', function() {
			const currentLocation = window.location.pathname;
			const navLinks = document.querySelectorAll('.nav-link');

			navLinks.forEach(link => {
				if (link.getAttribute('href') && currentLocation.includes(link.getAttribute('href'))) {
					link.classList.add('active');
				} else if (link !== navLinks[0]) {
					link.classList.remove('active');
				}
			});
		});
	</script>
	@await RenderSectionAsync("Scripts", required: false)
</body>
</html>
